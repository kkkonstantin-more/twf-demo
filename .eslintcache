[{"/Users/konstantin-moro/Projects/twf-web-game/src/index.js":"1","/Users/konstantin-moro/Projects/twf-web-game/src/reportWebVitals.js":"2","/Users/konstantin-moro/Projects/twf-web-game/src/App.js":"3","/Users/konstantin-moro/Projects/twf-web-game/src/components/game-editor/game-editor.jsx":"4","/Users/konstantin-moro/Projects/twf-web-game/src/components/tex-editor/tex-editor.jsx":"5","/Users/konstantin-moro/Projects/twf-web-game/src/local-libs/math-quill/index.js":"6","/Users/konstantin-moro/Projects/twf-web-game/src/local-libs/math-quill/mathquill.js":"7","/Users/konstantin-moro/Projects/twf-web-game/src/utils/kotlin-lib-functions.js":"8"},{"size":478,"mtime":1610802562979,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":1610796478493,"results":"11","hashOfConfig":"10"},{"size":3791,"mtime":1610841205444,"results":"12","hashOfConfig":"10"},{"size":7443,"mtime":1610813449887,"results":"13","hashOfConfig":"10"},{"size":4142,"mtime":1610814730332,"results":"14","hashOfConfig":"10"},{"size":50,"mtime":1604505091075,"results":"15","hashOfConfig":"10"},{"size":188384,"mtime":1604521446432,"results":"16","hashOfConfig":"10"},{"size":4679,"mtime":1610815095221,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1dxl3hd",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"/Users/konstantin-moro/Projects/twf-web-game/src/index.js",[],["36","37"],"/Users/konstantin-moro/Projects/twf-web-game/src/reportWebVitals.js",[],"/Users/konstantin-moro/Projects/twf-web-game/src/App.js",["38"],"/Users/konstantin-moro/Projects/twf-web-game/src/components/game-editor/game-editor.jsx",[],"/Users/konstantin-moro/Projects/twf-web-game/src/components/tex-editor/tex-editor.jsx",["39","40"],"// libs and hooks\nimport React, { useEffect, useState } from \"react\";\nimport { v4 as uidv4 } from \"uuid\";\n// @ts-ignore\nimport jQuery from \"jquery\";\n//@ts-ignore\nimport MQ from \"../../local-libs/math-quill\";\nimport \"../../local-libs/math-quill/mathquill.css\";\n// style\n// import \"./math-quill-editor.scss\";\n// @ts-ignore\nwindow.jQuery = jQuery;\n\n// TODO: add support for edit function\n\nconst MathQuillEditor = ({\n  config,\n  startingLatexExpression,\n  showOperationTab = true,\n  inputRef,\n  width,\n  maxWidth,\n  updateValue,\n  isInvalid,\n  onBlur,\n}) => {\n  if (inputRef && inputRef.current) {\n    inputRef.current.style.display = \"none\";\n  }\n  const [editor, setEditor] = useState();\n  // generating unique id by uuid library\n  const id = uidv4();\n\n  useEffect(() => {\n    const htmlElement = document.getElementById(id);\n    MQ();\n    // @ts-ignore\n    const MathQuill = window.MathQuill.getInterface(2);\n    const mathField = config\n      ? MathQuill.MathField(htmlElement, config)\n      : MathQuill.MathField(htmlElement);\n\n    // if (config && config.handlers) {\n    //   mathField.config({\n    //     ...config,\n    //     handlers: {\n    //       ...config.handlers,\n    //       edit: function () {\n    //         // edit function initialized for the first time\n    //         if (config.handlers.fns && config.handlers.fns.edit) {\n    //           config.handlers.fns.edit();\n    //         }\n    //         // edit function is already initialized\n    //         // if (config.handlers.edit) {\n    //         //   config.handlers.edit();\n    //         // }\n    //         if (inputRef.current) {\n    //           inputRef.current.value = mathField.latex();\n    //         }\n    //       },\n    //     },\n    //   });\n    // } else if (config) {\n    //   mathField.config({\n    //     ...config,\n    //     handlers: {\n    //       edit: function () {\n    //         if (inputRef.current) {\n    //           inputRef.current.value = mathField.latex();\n    //         }\n    //       },\n    //     },\n    //   });\n    // } else {\n    //   mathField.config({\n    //     spaceBehavesLikeTab: true,\n    //     handlers: {\n    //       edit: function () {\n    //         if (inputRef.current) {\n    //           inputRef.current.value = mathField.latex();\n    //         }\n    //         if (updateValue) {\n    //           updateValue(mathField.latex());\n    //         }\n    //       },\n    //     },\n    //   });\n    // }\n\n    mathField.config({\n      ...config,\n      spaceBehavesLikeTab: true,\n      handlers: {\n        edit: function () {\n          if (inputRef && inputRef.current) {\n            inputRef.current.value = mathField.latex();\n          }\n          if (updateValue) {\n            updateValue(mathField.latex());\n          }\n        },\n      },\n    });\n\n    if (startingLatexExpression) {\n      mathField.latex(startingLatexExpression);\n    }\n\n    setEditor(mathField);\n\n    if (htmlElement && onBlur) {\n      htmlElement.firstChild?.addEventListener(\"focusout\", () => {\n        onBlur(mathField.latex());\n      });\n    }\n  }, []);\n\n  // const actions = [\n  //   {\n  //     iconUrl: require(\"../../assets/math-symbols/sum.svg\"),\n  //     latexCmd: \"\\\\sum\",\n  //   },\n  //   {\n  //     iconUrl: require(\"../../assets/math-symbols/square-root.svg\"),\n  //     latexCmd: \"\\\\sqrt\",\n  //   },\n  //   {\n  //     iconUrl: require(\"../../assets/math-symbols/pi.svg\"),\n  //     latexCmd: \"\\\\pi\",\n  //   },\n  // ];\n\n  return (\n    <div className=\"math-quill-editor\" style={{ width }}>\n      {showOperationTab && (\n        <div className=\"math-quill-editor__operations\">\n          {/*{actions.map((action, i) => {*/}\n          {/*  const { iconUrl, latexCmd } = action;*/}\n          {/*  return (*/}\n          {/*    <div key={i} className=\"math-quill-editor__operation\">*/}\n          {/*      <img src={iconUrl} onClick={() => editor.cmd(latexCmd)} />*/}\n          {/*    </div>*/}\n          {/*  );*/}\n          {/*})}*/}\n        </div>\n      )}\n      <span\n        className=\"math-quill-editor__main-input\"\n        id={id}\n        style={{ width, minWidth: \"17rem\" }}\n      />\n    </div>\n  );\n};\n\nexport default MathQuillEditor;\n","/Users/konstantin-moro/Projects/twf-web-game/src/local-libs/math-quill/index.js",[],"/Users/konstantin-moro/Projects/twf-web-game/src/local-libs/math-quill/mathquill.js",[],"/Users/konstantin-moro/Projects/twf-web-game/src/utils/kotlin-lib-functions.js",[],{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":31,"column":5,"nodeType":"47","messageId":"48","endLine":31,"endColumn":33},{"ruleId":"45","severity":1,"message":"49","line":30,"column":10,"nodeType":"47","messageId":"48","endLine":30,"endColumn":16},{"ruleId":"50","severity":1,"message":"51","line":116,"column":6,"nodeType":"52","endLine":116,"endColumn":8,"suggestions":"53"},"no-native-reassign",["54"],"no-negated-in-lhs",["55"],"no-unused-vars","'currentMathFieldSelectOption' is assigned a value but never used.","Identifier","unusedVar","'editor' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'config', 'id', 'inputRef', 'onBlur', 'startingLatexExpression', and 'updateValue'. Either include them or remove the dependency array. If 'onBlur' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["56"],"no-global-assign","no-unsafe-negation",{"desc":"57","fix":"58"},"Update the dependencies array to be: [config, id, inputRef, onBlur, startingLatexExpression, updateValue]",{"range":"59","text":"60"},[3049,3051],"[config, id, inputRef, onBlur, startingLatexExpression, updateValue]"]