(this["webpackJsonptwf-web-game"]=this["webpackJsonptwf-web-game"]||[]).push([[0],{109:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var i=n(6),r=n(0),c=n.n(r),o=n(25),a=n.n(o),s=n(49),l=n.n(s),d=n(67),u=n(20),h=n(11),f=n(114),j=n(116),m=n(113),p=n(117),x=n(86),b=n.n(x),g=n(32),v=n(62),w=function(e){var t=e.start,n=e.end,c=e.rulePacks,o=function(){document.getElementsByTagName("svg").forEach((function(e){"true"!==e.ariaHidden&&e.parentNode.removeChild(e)}))};return Object(r.useEffect)((function(){o();var e=window.innerHeight-parseFloat(getComputedStyle(document.querySelector(".app")).height.slice(0,-2))-10,i=window.innerWidth>500?50:window.innerWidth/10,r=window.innerWidth>800?80:window.innerWidth/10,a=window.innerWidth>400?40:window.innerWidth/10,s=a,l=0+i+r+a,d=window.innerWidth-2*a,u=e-(0+i+1.5*r)-2*a,h=window.innerWidth>1e3?50:window.innerWidth/20,f=window.innerWidth>900?30:window.innerWidth/30,j=e/100,m=window.innerWidth/100,p=e/5*2,x=window.innerWidth>800?40:window.innerWidth/20,b=window.innerWidth>800?80:window.innerWidth/10,g=window.innerWidth-4*a,w="#ffffff",O="#cfd8dc",S="#ffbf00",T="#254b25",y="#59df5e",C=d,E=t||"(and(a;or(a;b)))",_=n||"(a)",W=c?[c]:["Logic"];compiledConfiguration=window.twf_js.createConfigurationFromRulePacksAndParams(W);var N=(new SVG).addTo("body").size(window.innerWidth,e);function k(t){init(compiledConfiguration,t,R,!1,[]),N.viewbox(0,0,window.innerWidth,e),N.rect(window.innerWidth,e).fill(w);var n=window.twf_js.structureStringToExpression(t),c=PrintTree(n,r,N);c.center(window.innerWidth/2,0+i+r/2),c.width()>=window.innerWidth-i&&c.scale((window.innerWidth-i)/c.width()),c.height()>=r+2*i/3&&c.scale((r+2*i/3)/c.height()),function(t,n){var i=n<50?p:e/5*2;return t===_?(N.rect(g,b).fill(y).radius(10).center(window.innerWidth/2,i),N.text("Congratulations! You win!").font({size:x,family:"u2000",fill:T}).center(window.innerWidth/2,i),!0):(N.rect(g,b).fill(w).radius(10).center(window.innerWidth/2,i),!1)}(t,c.height()-r)||(N.text("Click a part of the expression to transform it").font({size:f,family:"u2000",fill:"#000000"}).center(window.innerWidth/2,l+f),N.text("Use ".concat(/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!==typeof safari&&window.safari.pushNotification).toString()?"":"'Shift' or ","'CapsLock' to select more than one part")).font({size:f,family:"u2000",fill:"#000000"}).center(window.innerWidth/2,l+f+f+j))}function R(e,t){var n=20;N.rect(d+40,u+40).move(s,l-n).fill(w).radius(10);var i=N.group();i.rect(d+40,u+40).move(s,l-n).fill(w).radius(10);for(var r=l,c=0;c<e.length;++c){var o=i.group(),a=o.group();o.add(P(a,!1,c));var f=a.group(),p=j+s,x=PlainPrintTree(e[c][0],h,f).x(p).y(r);p+=m;var b=f.width();f.group().text("\u27f6").font({size:h,family:"u2000",fill:"#009688"}).center(p+b,r+x.height()/2).x(p+b);p+=m,b=f.width();PlainPrintTree(e[c][1],h,f).x(p+b).y(r);x.center(x.x()+x.width()/2,r+x.height()/2),a.rect(C,f.height()).radius(10).fill(O).x(s).y(r);var g=f.width()-s;if(g>=C-150){var T=(C-150)/g;f.x(s-(g-(C-150))/2).scale(T)}a.add(f),r+=f.height()+j}var y=r-l;if(y>u){var E=u/y;i.move(s,l-(y-y*E)/2).scale(E)}function _(e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;e.width()===C&&e.animate(300,"<>").fill(S);var i,r=Object(v.a)(e.children());try{for(r.s();!(i=r.n()).done;){var c=i.value;_(c)}}catch(a){r.e(a)}finally{r.f()}if(-1!==n){var o=t[n].resultExpression.toString();k(o)}}function W(e){e.width()===C&&e.animate(300,"<>").fill("#bfc8cc");var t,n=Object(v.a)(e.children());try{for(n.s();!(t=n.n()).done;){W(t.value)}}catch(i){n.e(i)}finally{n.f()}}function R(e){e.width()===C&&e.animate(300,"<>").fill(O);var t,n=Object(v.a)(e.children());try{for(n.s();!(t=n.n()).done;){R(t.value)}}catch(i){n.e(i)}finally{n.f()}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=e;return i.css("cursor","pointer"),i.on("mousedown",(function(){return _(e,t,n)})).on("mouseup mouseover",(function(){return W(e)})).on("mouseout",(function(){return R(e)})),i}}return k(E),function(){return o()}}),[t,n]),Object(i.jsx)("div",{id:"Level"})},O=n(74),S=n(75),T=n(89),y=n(91),C=window.twf_js,E=C.stringToExpression,_=C.structureStringToExpression,W=C.stringToExpression,N=C.expressionToTexString,k=C.expressionToStructureString,R=C.expressionToString,P=function(e){Object(S.a)(n,e);var t=Object(T.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).name="MathInputConvertingError",i}return n}(Object(y.a)(Error)),U=function(e,t,n){var i="PLAIN_TEXT"===e?E(n):"STRUCTURE_STRING"===e?_(n):"TEX"===e?W(n.replace(/\//g,"//")):void 0;if("ERROR"===i.nodeType.name$)throw new P(i.value);return"PLAIN_TEXT"===t?R(i):"STRUCTURE_STRING"===t?k(i):"TEX"===t?N(i):void 0},I=function(e){return C.decodeUrlSymbols(e)},M=function(e){switch(e){case">=":return"ge";case"<=":return"le";case">":return"gt";case"<":return"lt";default:return"="}},F=n.p+"static/media/sum.3223816c.svg",L=n.p+"static/media/square-root.4b4aab98.svg",X=n.p+"static/media/pi.f4a71993.svg";n(99);Object(g.addStyles)();var z=0,G=function(){var e,t=f.a.Option,n=Object(h.d)(),c=Object.fromEntries(Object(h.e)().search.slice(1).split("&").map((function(e){return e.split("=")}))),o=c.mode,a=c.originalExpression,s=c.endExpression,x=c.rulePack,v=c.hideDetails,O=c.comparisonType,S=Object(r.useState)(void 0!==O?"ge"===(e=O)?">=":"le"===e?"<=":"gt"===e?">":"lt"===e?"<":"=":"="),T=Object(u.a)(S,2),y=T[0],E=T[1],_=function(){var e=y;return">="===y?e=" \\ge ":"<="===y?e=" \\le ":"<"===y?e=" \\lt ":">"===y&&(e=" \\gt "),ce+e+"..."+e+le},W=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je("Solve");case 2:return e.next=4,je("Play");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){return te?"".concat(e," ").concat(e,"--disabled"):e},k=function(e,t){if(e){try{U("STRUCTURE_STRING","TEX",I(e))}catch(n){return 0===z&&(alert("Error in the "+t+" expressioin: '"+n.message+"'. Default value will be used"),z+=1),!1}return!0}return!1},R=k(a,"start")?I(a):"(and(a;or(a;b)))",P=k(s,"end")?I(s):"(a)",G=["Logic","ShortMultiplication","Logarithm","Trigonometry"],q=["Play","Solve","Check Statement"],D=Object(r.useState)(R),A=Object(u.a)(D,2),B=A[0],H=A[1],V=Object(r.useState)(P),J=Object(u.a)(V,2),Y=J[0],$=J[1],K=Object(r.useState)(x&&G.includes(x)?x:"Logic"),Q=Object(u.a)(K,2),Z=Q[0],ee=Q[1],te=void 0!==v&&"true"===v,ne="(+(3;*(4;cos(*(2;x)));cos(*(4;x))))"===B&&"(*(8;^(cos(x);4)))"===Y&&"Trigonometry"===Z&&"="===y?"3+4\\cdot \\cos \\left(2\\cdot x\\right)+\\cos \\left(4\\cdot x\\right)=3+4\\cdot \\left(2\\cdot \\cos ^2\\left(x\\right)-1\\right)+\\left(2\\cdot \\cos ^2\\left(2\\cdot x\\right)-1\\right)=3+4\\cdot \\left(2\\cdot \\cos ^2\\left(x\\right)-1\\right)+2\\cdot \\left(2\\cdot \\cos ^2\\left(x\\right)-1\\right)^2-1=8\\cdot \\cos \\left(x\\right)^4":"(+(2;*(4;cos(*(2;x)));cos(*(4;x))))"===B&&"(*(8;^(cos(x);4)))"===Y&&"Trigonometry"===Z&&"<="===y?"2+4\\cdot \\cos \\left(2\\cdot x\\right)+\\cos \\left(4\\cdot x\\right)\\le 3+4\\cdot \\left(2\\cdot \\cos ^2\\left(x\\right)-1\\right)+\\left(2\\cdot \\cos ^2\\left(2\\cdot x\\right)-1\\right)\\le 3+4\\cdot \\left(2\\cdot \\cos ^2\\left(x\\right)-1\\right)+2\\cdot \\left(2\\cdot \\cos ^2\\left(x\\right)-1\\right)^2-1\\le 8\\cdot \\cos \\left(x\\right)^4":null,ie=Object(r.useState)(U("STRUCTURE_STRING","TEX",R)),re=Object(u.a)(ie,2),ce=re[0],oe=re[1],ae=Object(r.useState)(U("STRUCTURE_STRING","TEX",P)),se=Object(u.a)(ae,2),le=se[0],de=se[1],ue=Object(r.useState)(q.includes(o)?o:"Play"),he=Object(u.a)(ue,2),fe=he[0],je=he[1],me=Object(r.useState)(_()),pe=Object(u.a)(me,2),xe=pe[0],be=pe[1],ge=Object(r.useState)(!1),ve=Object(u.a)(ge,2),we=ve[0],Oe=ve[1],Se=Object(r.useState)(null),Te=Object(u.a)(Se,2),ye=Te[0],Ce=Te[1],Ee=Object(r.useState)(null),_e=Object(u.a)(Ee,2),We=_e[0],Ne=_e[1],ke=Object(r.useState)(null),Re=Object(u.a)(ke,2),Pe=Re[0],Ue=Re[1],Ie=Object(r.useState)(null),Me=Object(u.a)(Ie,2),Fe=Me[0],Le=Me[1],Xe=function(){var e=Object(d.a)(l.a.mark((function e(){var t,i,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1;try{i=U("TEX","STRUCTURE_STRING",ce),H(i)}catch(c){Ce(c.message),t=!0}try{r=U("TEX","STRUCTURE_STRING",le),$(r)}catch(c){Ne(c.message),t=!0}if(t){e.next=13;break}if(n.push("/?"+"mode=".concat(fe)+"&originalExpression=".concat(i)+"&endExpression=".concat(r)+"&rulePack=".concat(Z)+"&hideDetails=".concat(te)+("="!==M(y)?"&comparisonType=".concat(M(y)):"")),Ce(null),Ne(null),Le(null),Ue(null),be(_()),"Play"!==fe){e.next=13;break}return e.next=13,W();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=function(e,t,n,i,r){return C.checkSolutionInTex(e,t,void 0,"",n,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r,void 0,void 0,void 0)}(xe,B,Y,y,[Z]);e.errorMessage?(Le(null),Ue(e.errorMessage)):(Ue(null),Le("Congratulations! Correct solution!")),be(e.validatedSolution)},Ge=function(){var e=function(e,t){return{res:C.checkSolutionInTex(e,"","","","","","",void 0,"",void 0,void 0,void 0," ",void 0,t,void 0,void 0,void 0)}}(xe,[]).res;e.errorMessage?(Le(null),Ue(e.errorMessage)):(Ue(null),Le("Correct!")),be(e.validatedSolution)};Object(r.useEffect)((function(){we&&"Solve"===fe?ze():we&&"Check Statement"===fe&&Ge(),Oe(!1)}),[we]);var qe=Object(r.useState)(null),De=Object(u.a)(qe,2),Ae=De[0],Be=De[1],He=[{iconUrl:F,latexCmd:function(){Ae&&Ae.cmd("\\sum")}},{iconUrl:L,latexCmd:function(){Ae&&Ae.cmd("\\sqrt")}},{iconUrl:X,latexCmd:function(){Ae&&Ae.cmd("\\pi")}}];return Object(i.jsxs)("div",{className:"app",children:[Object(i.jsxs)("div",{className:"app__tabs",children:[q.map((function(e){return Object(i.jsx)("div",{onClick:function(){je(e)},className:"app__tab ".concat(fe===e?"app__tab--selected":""),children:e},e)})),Object(i.jsx)("div",{className:"app__tab--bottom-line"})]}),"Check Statement"!==fe&&Object(i.jsxs)("div",{className:"app__inputs",children:[Object(i.jsxs)("div",{className:N("app__tex-inputs"),children:[Object(i.jsxs)("div",{className:N("app__tex-input"),children:[Object(i.jsx)("h2",{children:"Prove that"}),te?Object(i.jsx)(g.StaticMathField,{style:{fontSize:"2.2rem"},children:ce}):Object(i.jsx)(g.EditableMathField,{latex:ce,onChange:function(e){oe(e.latex())},style:{width:"22rem",fontSize:"1.6rem"}})]}),Object(i.jsxs)("div",{className:N("app__tex-input"),children:["Play"===fe?Object(i.jsx)("h2",{style:{marginRight:"1rem"},children:"Equals"}):Object(i.jsx)(f.a,{showSearch:!0,defaultValue:y,onChange:function(e){E(e)},style:{width:"7rem",marginTop:"-0.2rem",marginRight:"1rem"},children:["=",">=",">","<","<="].map((function(e){return Object(i.jsx)(t,{value:e,children:e},e)}))}),te?Object(i.jsx)(g.StaticMathField,{style:{fontSize:"2.2rem"},children:le}):Object(i.jsx)(g.EditableMathField,{latex:le,onChange:function(e){de(e.latex())},style:{width:"22rem",fontSize:"1.6rem"}})]})]}),!te&&Object(i.jsxs)("div",{className:"app__add-inputs",children:[Object(i.jsxs)("div",{className:"app__input-group",children:[Object(i.jsx)("label",{children:"Subject Area"}),Object(i.jsx)(f.a,{defaultValue:Z,onChange:function(e){ee(e)},style:{width:"150px"},children:G.map((function(e){return Object(i.jsx)(t,{value:e,children:e},e)}))})]}),Object(i.jsx)(j.a,{type:"primary",onClick:Xe,children:"Change Task!"})]})]}),Object(i.jsxs)("div",{className:"app__errors",children:[ye&&Object(i.jsx)(m.a,{message:"Error in start expression! "+ye,className:"alert-msg",type:"error"}),We&&Object(i.jsx)(m.a,{message:"Error in target expression! "+We,className:"alert-msg",type:"error"})]}),"Play"===fe&&Object(i.jsx)(w,{start:B,end:Y,rulePacks:Z}),"Play"!==fe&&Object(i.jsxs)("div",{className:"app__tex-solution-block",children:["Solve"===fe&&Object(i.jsx)("h1",{children:"Write solution instead of dots (in TeX)"}),"Check Statement"===fe&&Object(i.jsx)("h1",{children:"Write statement and check if it's correct (in TeX)"}),Object(i.jsxs)("div",{className:"tex-solution",children:[Object(i.jsx)("div",{className:"tex-solution__operations",children:He.map((function(e,t){var n=e.iconUrl,r=e.latexCmd,c=e.tooltip;return Object(i.jsx)("div",{className:"tex-solution__operation",children:c?Object(i.jsx)(p.a,{title:c,placement:"bottom",children:Object(i.jsx)("img",{src:n,onClick:function(){return r()}})}):Object(i.jsx)("img",{src:n,onClick:function(){return r()}})},t)}))}),Object(i.jsx)(g.EditableMathField,{latex:xe,mathquillDidMount:function(e){return Be(e)},onChange:function(e){be(e.latex())},style:{minWidth:"40rem",maxWidth:window.innerWidth-100+"px",fontSize:"2.2rem"}})]}),Object(i.jsx)(b.a,{loading:we}),(Fe||Pe)&&Object(i.jsx)(m.a,{message:Pe||Fe,className:"alert-msg",type:Pe?"error":"success",style:{marginTop:"1rem"}}),Object(i.jsxs)("div",{className:"app__tex-solution-btns",children:[Object(i.jsx)(j.a,{onClick:function(){Oe(!0)},style:{marginTop:"1rem"},type:"primary",children:"Check"}),ne&&Object(i.jsx)(j.a,{onClick:function(){be(ne)},style:{marginTop:"10px"},type:"success",children:"Get correct solution"})]})]})]})};n(109);var q=function(){return Object(i.jsx)(G,{})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),c(e),o(e)}))},A=n(66);a.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(A.a,{children:Object(i.jsx)(q,{})})}),document.getElementById("root")),D()},99:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.ff7fff8f.chunk.js.map